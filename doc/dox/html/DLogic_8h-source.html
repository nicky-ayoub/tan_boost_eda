<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DLogic.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc1 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>DLogic.h</h1><a href="DLogic_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* Copyright (C) Kwee Heong Tan 2002 - 2003</span>
00002 <span class="comment">   Permission is granted to use this code without restriction as</span>
00003 <span class="comment">   long as this copyright notice appears in all source files.</span>
00004 <span class="comment">*/</span>
00005 <span class="comment">//---------------------------------------------------------------------- </span>
00006 <span class="comment">//</span>
00007 <span class="comment">//  Filename: $Id: DLogic.h,v 1.3 2002/11/21 18:09:02 khtan Exp $</span>
00008 <span class="comment">//</span>
00009 <span class="comment">//  Description:</span>
00010 <span class="comment">//</span>
00011 <span class="comment">//---------------------------------------------------------------------- </span>
00012 <span class="preprocessor">#ifndef _DLogic_H</span>
00013 <span class="preprocessor"></span><span class="preprocessor">#define _DLogic_H</span>
00014 <span class="preprocessor"></span>     
00015 <span class="comment">// The OSTREAM and ISTREAM typedefs are used due to a problem that occurs</span>
00016 <span class="comment">// when compiling enum classes using MS Visual C++ 5.0; even with the </span>
00017 <span class="comment">// "using namespace std" declaration, lines containing ostream and istream </span>
00018 <span class="comment">// are flagged as ambiguous by VC++.</span>
00019      
00020 <span class="preprocessor">#ifdef WIN32</span>
00021 <span class="preprocessor"></span><span class="preprocessor">    #include &lt;string&gt;</span>
00022 <span class="preprocessor">    #include &lt;iostream&gt;</span>
00023      
00024     <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00025      
00026     <span class="keyword">typedef</span> std::ostream  <a class="code" href="DLogic_8h.html#a2">OSTREAM</a>;
00027     <span class="keyword">typedef</span> std::istream  <a class="code" href="DLogic_8h.html#a3">ISTREAM</a>;
00028      
00029 <span class="preprocessor">#else  // SGI</span>
00030 <span class="preprocessor"></span><span class="preprocessor">    #include &lt;iostream.h&gt;</span>
00031 <span class="preprocessor">    #include &lt;mstring.h&gt;</span>   <span class="comment">// Needed for string class on SGI</span>
00032      
<a name="l00033"></a><a class="code" href="DLogic_8h.html#a2">00033</a>     <span class="keyword">typedef</span> ostream  <a class="code" href="DLogic_8h.html#a2">OSTREAM</a>;
<a name="l00034"></a><a class="code" href="DLogic_8h.html#a3">00034</a>     <span class="keyword">typedef</span> istream  <a class="code" href="DLogic_8h.html#a3">ISTREAM</a>;
00035      
00036 <span class="preprocessor">#endif</span>
00037 <span class="preprocessor"></span><span class="comment">//---------------------------------------------------------------------- </span>
00038 <span class="preprocessor">#ifdef ENUMS_USE_EXCEPTION_HANDLING</span>
00039 <span class="preprocessor"></span><span class="preprocessor">    #define DLogic_THROW_DECL    throw (const char *) </span>
00040 <span class="preprocessor"></span><span class="preprocessor">    #define DLogic_THROW_EXEC    throw m_errorMsg;</span>
00041 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00042"></a><a class="code" href="DLogic_8h.html#a0">00042</a> <span class="preprocessor"></span><span class="preprocessor">    #define DLogic_THROW_DECL</span>
<a name="l00043"></a><a class="code" href="DLogic_8h.html#a1">00043</a> <span class="preprocessor"></span><span class="preprocessor">    #define DLogic_THROW_EXEC    DLogic::RangeError()</span>
00044 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00045 <span class="preprocessor"></span><span class="comment">//---------------------------------------------------------------------- </span>
<a name="l00046"></a><a class="code" href="classDLogic.html">00046</a> <span class="keyword">class </span><a class="code" href="classDLogic.html">DLogic</a>{
00047 <span class="keyword">public</span>:  
00048     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p0">ZERO</a>;
00049     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p1">ONE</a>;
00050     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p2">D</a>;
00051     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p3">_D</a>;
00052     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p4">X</a>;
00053     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p5">_UNDEFINED</a>;
00054     <span class="comment">// khtan added</span>
00055     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a> <a class="code" href="classDLogic.html#p6">DLogicAnd</a>[5][5];
00056     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a> <a class="code" href="classDLogic.html#p7">DLogicOr</a>[5][5];
00057     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a> <a class="code" href="classDLogic.html#p8">DLogicNot</a>[5];
00058 <span class="keyword">public</span>:
<a name="l00059"></a><a class="code" href="classDLogic.html#a0">00059</a>     <a class="code" href="classDLogic.html#a0">DLogic</a>(){
00060         m_defPtr = _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>;
00061     }
<a name="l00062"></a><a class="code" href="classDLogic.html#a1">00062</a>     <a class="code" href="classDLogic.html#a0">DLogic</a> (<span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>&amp;  objref ){
00063         m_defPtr = objref.<a class="code" href="classDLogic.html#o0">m_defPtr</a>;
00064     }
00065     <span class="keyword">explicit</span> <a class="code" href="classDLogic.html#a0">DLogic</a> ( <span class="keyword">const</span> string&amp;  estr );
00066     <span class="keyword">explicit</span> <a class="code" href="classDLogic.html#a0">DLogic</a> ( <span class="keyword">const</span> <span class="keywordtype">int</span>  ival );
00067     <span class="comment">// GetInt is used instead of "operator int()" to enforce explicit </span>
00068     <span class="comment">// conversion from DLogic to int.</span>
<a name="l00069"></a><a class="code" href="classDLogic.html#a4">00069</a>     <span class="keywordtype">short</span> <a class="code" href="classDLogic.html#a4">GetInt</a>() <span class="keyword">const</span> <a class="code" href="DLogic_8h.html#a0">DLogic_THROW_DECL</a> {
00070         <span class="keywordflow">if</span> (m_defPtr == _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>){
00071             <a class="code" href="DLogic_8h.html#a1">DLogic_THROW_EXEC</a>;
00072         }
00073         <span class="keywordflow">return</span> m_defPtr-&gt;m_value;
00074     }
<a name="l00075"></a><a class="code" href="classDLogic.html#a5">00075</a>     <span class="keywordtype">bool</span> <a class="code" href="classDLogic.html#a5">valid</a>()<span class="keyword"> const </span>{
00076         <span class="keywordflow">return</span> (m_defPtr != _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>);
00077     }
<a name="l00078"></a><a class="code" href="classDLogic.html#a6">00078</a>     <a class="code" href="classDLogic.html">DLogic</a>&amp; <a class="code" href="classDLogic.html#a6">operator= </a>( <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>&amp;  objref ){
00079       <span class="comment">// Q - no need to check for assignment to self?</span>
00080         m_defPtr = objref.<a class="code" href="classDLogic.html#o0">m_defPtr</a>;
00081         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00082     }
<a name="l00083"></a><a class="code" href="classDLogic.html#a7">00083</a>     <span class="keywordtype">bool</span> <a class="code" href="classDLogic.html#a7">operator== </a>( <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>&amp;  objref ) <span class="keyword">const</span> <a class="code" href="DLogic_8h.html#a0">DLogic_THROW_DECL</a> {
00084         <span class="keywordflow">if</span> ( (m_defPtr == _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>) || (objref.m_defPtr == _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>) ){
00085             <a class="code" href="DLogic_8h.html#a1">DLogic_THROW_EXEC</a>;
00086         }
00087         <span class="keywordflow">return</span> m_defPtr == objref.m_defPtr;
00088     }
<a name="l00089"></a><a class="code" href="classDLogic.html#a8">00089</a>     <span class="keywordtype">bool</span> <a class="code" href="classDLogic.html#a8">operator!= </a>( <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>&amp;  objref ) <span class="keyword">const</span> <a class="code" href="DLogic_8h.html#a0">DLogic_THROW_DECL</a> {
00090         <span class="keywordflow">if</span> ( (m_defPtr == _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>) || (objref.m_defPtr == _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>) ){
00091             <a class="code" href="DLogic_8h.html#a1">DLogic_THROW_EXEC</a>;
00092         }
00093         <span class="keywordflow">return</span> m_defPtr != objref.m_defPtr;
00094     }
<a name="l00095"></a><a class="code" href="classDLogic.html#a9">00095</a>     <span class="keywordtype">bool</span> <a class="code" href="classDLogic.html#a9">operator&lt; </a>( <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>&amp;  objref ) <span class="keyword">const</span> <a class="code" href="DLogic_8h.html#a0">DLogic_THROW_DECL</a> {
00096         <span class="keywordflow">if</span> ( (m_defPtr == _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>) || (objref.m_defPtr == _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>) ){
00097             <a class="code" href="DLogic_8h.html#a1">DLogic_THROW_EXEC</a>;
00098         }
00099         <span class="keywordflow">return</span> m_defPtr &lt; objref.m_defPtr;
00100     }
<a name="l00101"></a><a class="code" href="classDLogic.html#a10">00101</a>     <span class="keywordtype">bool</span> <a class="code" href="classDLogic.html#a10">operator&lt;= </a>( <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>&amp;  objref ) <span class="keyword">const</span> <a class="code" href="DLogic_8h.html#a0">DLogic_THROW_DECL</a> {
00102         <span class="keywordflow">if</span> ( (m_defPtr == _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>) || (objref.m_defPtr == _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>) ){
00103             <a class="code" href="DLogic_8h.html#a1">DLogic_THROW_EXEC</a>;
00104         }
00105         <span class="keywordflow">return</span> m_defPtr &lt;= objref.m_defPtr;
00106     }
<a name="l00107"></a><a class="code" href="classDLogic.html#a11">00107</a>     <span class="keywordtype">bool</span> <a class="code" href="classDLogic.html#a11">operator&gt; </a>( <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>&amp;  objref ) <span class="keyword">const</span> <a class="code" href="DLogic_8h.html#a0">DLogic_THROW_DECL</a> {
00108         <span class="keywordflow">if</span> ( (m_defPtr == _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>) || (objref.m_defPtr == _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>) ){
00109             <a class="code" href="DLogic_8h.html#a1">DLogic_THROW_EXEC</a>;
00110         }
00111         <span class="keywordflow">return</span> m_defPtr &gt; objref.m_defPtr;
00112     }
<a name="l00113"></a><a class="code" href="classDLogic.html#a12">00113</a>     <span class="keywordtype">bool</span> <a class="code" href="classDLogic.html#a12">operator&gt;= </a>(<span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>&amp;  objref ) <span class="keyword">const</span> <a class="code" href="DLogic_8h.html#a0">DLogic_THROW_DECL</a> {
00114         <span class="keywordflow">if</span> ( (m_defPtr == _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>) || (objref.m_defPtr == _UNDEFINED.<a class="code" href="classDLogic.html#o0">m_defPtr</a>) ){
00115             <a class="code" href="DLogic_8h.html#a1">DLogic_THROW_EXEC</a>;
00116         }
00117         <span class="keywordflow">return</span> m_defPtr &gt;= objref.m_defPtr;
00118     }
00119     <a class="code" href="classDLogic.html">DLogic</a> <a class="code" href="classDLogic.html#a13">operator++</a>();
00120     <a class="code" href="classDLogic.html">DLogic</a> <a class="code" href="classDLogic.html#a13">operator++</a>(<span class="keywordtype">int</span>);
00121     <a class="code" href="classDLogic.html">DLogic</a> <a class="code" href="classDLogic.html#a15">operator--</a>();
00122     <a class="code" href="classDLogic.html">DLogic</a> <a class="code" href="classDLogic.html#a15">operator--</a>(<span class="keywordtype">int</span>);
00123     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classDLogic.html#a17">GetLabel</a>() <span class="keyword">const</span>;
00124     string <a class="code" href="classDLogic.html#a18">GetString</a>() <span class="keyword">const</span>;
00125     <span class="keyword">friend</span> <a class="code" href="DLogic_8h.html#a2">OSTREAM</a>&amp; <a class="code" href="classDLogic.html#a0">operator&lt;&lt; </a>( <a class="code" href="DLogic_8h.html#a2">OSTREAM</a>&amp; ostr, <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>&amp;  objref );
00126     <span class="keyword">friend</span> <a class="code" href="DLogic_8h.html#a3">ISTREAM</a>&amp; <a class="code" href="classDLogic.html#a1">operator&gt;&gt; </a>( <a class="code" href="DLogic_8h.html#a3">ISTREAM</a>&amp; ostr, <a class="code" href="classDLogic.html">DLogic</a>&amp;  objref );
00127     <span class="comment">// khtan added</span>
<a name="l00128"></a><a class="code" href="classDLogic.html#a19">00128</a>     <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>&amp; <a class="code" href="classDLogic.html#a19">operator&amp;&amp;</a>(<span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a> &amp;rhs)<span class="keyword"> const</span>{
00129       <span class="keywordflow">return</span> <a class="code" href="classDLogic.html#p6">DLogic::DLogicAnd</a>[m_defPtr-&gt;m_value][rhs.<a class="code" href="classDLogic.html#o0">m_defPtr</a>-&gt;m_value];
00130     }
<a name="l00131"></a><a class="code" href="classDLogic.html#a20">00131</a>     <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>&amp; <a class="code" href="classDLogic.html#a20">operator||</a>(<span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a> &amp;rhs)<span class="keyword"> const</span>{
00132       <span class="keywordflow">return</span> <a class="code" href="classDLogic.html#p7">DLogic::DLogicOr</a>[m_defPtr-&gt;m_value][rhs.<a class="code" href="classDLogic.html#o0">m_defPtr</a>-&gt;m_value];
00133     }
<a name="l00134"></a><a class="code" href="classDLogic.html#a21">00134</a>     <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>&amp; <a class="code" href="classDLogic.html#a21">operator!</a>()<span class="keyword"> const</span>{
00135       <span class="keywordflow">return</span> <a class="code" href="classDLogic.html#p8">DLogic::DLogicNot</a>[m_defPtr-&gt;m_value];
00136     }
00137 <span class="keyword">public</span>: 
<a name="l00138"></a><a class="code" href="classDLogic.html#d0">00138</a>     <span class="keyword">static</span> <a class="code" href="classDLogic.html">DLogic</a> <a class="code" href="classDLogic.html#d0">first</a>(){ <span class="keywordflow">return</span> ZERO; }
<a name="l00139"></a><a class="code" href="classDLogic.html#d1">00139</a>     <span class="keyword">static</span> <a class="code" href="classDLogic.html">DLogic</a> <a class="code" href="classDLogic.html#d1">last</a>(){ <span class="keywordflow">return</span> X; }
<a name="l00140"></a><a class="code" href="classDLogic.html#d2">00140</a>     <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classDLogic.html#d2">count</a>(){ <span class="keywordflow">return</span> m_defArrCount - 1; }
00141 <span class="keyword">private</span>:  
00142     <span class="keyword">struct </span>EnumDefStruct{
00143         <span class="keywordtype">short</span>   m_value;
00144         string  m_name;
00145         EnumDefStruct(<span class="keyword">const</span> <span class="keywordtype">int</span> value,<span class="keyword">const</span> <span class="keywordtype">char</span>* name):m_value(value), m_name(name){}
00146     };
00147     <span class="comment">// The class constructor with a EnumDefStruct* argument should only </span>
00148     <span class="comment">// be used to construct the static constants that make up the enum </span>
00149     <span class="comment">// values; thus it's declared private.</span>
00150     <a class="code" href="classDLogic.html#a0">DLogic</a> (EnumDefStruct*  defPtr ){ m_defPtr = defPtr; }
00151     <span class="keyword">static</span> <span class="keywordtype">void</span> RangeError();
00152 <span class="keyword">private</span>:
00153     EnumDefStruct*  m_defPtr;
00154 <span class="keyword">private</span>:
00155     <span class="keyword">static</span> <span class="keywordtype">short</span>          m_defArrCount; 
00156     <span class="keyword">static</span> EnumDefStruct  m_defArr[];
00157     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*    m_errorMsg;
00158 };
00159      
00160 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Mon Jan 20 11:54:26 2003 for ATPG by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc1 </small></address>
</body>
</html>
