<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DLogic.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc1 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>DLogic.cpp</h1><a href="DLogic_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* Copyright (C) Kwee Heong Tan 2002 - 2003</span>
00002 <span class="comment">   Permission is granted to use this code without restriction as</span>
00003 <span class="comment">   long as this copyright notice appears in all source files.</span>
00004 <span class="comment">*/</span>
00005 <span class="comment">//---------------------------------------------------------------------- </span>
00006 <span class="comment">//</span>
00007 <span class="comment">//  Filename: $Id: DLogic.cpp,v 1.5 2002/11/21 18:08:36 khtan Exp $</span>
00008 <span class="comment">//</span>
00009 <span class="comment">//  Description:</span>
00010 <span class="comment">//  1) Basic functionality of Class DLogic implementation generated by enum_gen.</span>
00011 <span class="comment">//     CUJ Mar 1999 "Enum++ - an enum class code generator" by Art Walker</span>
00012 <span class="comment">//  2) Added operator!, operator!! and operator&amp;&amp; functionality</span>
00013 <span class="comment">//  3) Cannot use std::logical_or, std::logical_and and std::logical_not</span>
00014 <span class="comment">//     bec these return bool. VC6 cannot partially specialize these templates.</span>
00015 <span class="comment">//  4) Added DLogic*Functor in DLogic.hpp</span>
00016 <span class="comment">//---------------------------------------------------------------------- </span>
00017      
00018 <span class="preprocessor">#include "<a class="code" href="DLogic_8h.html">DLogic.h</a>"</span>
00019 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
00020      
00021      
00022 <span class="comment">//---------------------------------------------------------------------- </span>
00023 DLogic::EnumDefStruct  DLogic::m_defArr[] ={
00024     EnumDefStruct (     0, <span class="stringliteral">"ZERO"</span>       ),
00025     EnumDefStruct (     1, <span class="stringliteral">"ONE"</span>        ),
00026     EnumDefStruct (     2, <span class="stringliteral">"D"</span>          ),
00027     EnumDefStruct (     3, <span class="stringliteral">"_D"</span>         ),
00028     EnumDefStruct (     4, <span class="stringliteral">"X"</span>          ),
00029     EnumDefStruct (     5, <span class="stringliteral">"_UNDEFINED"</span> ),
00030 };
00031 
00032 <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p0">DLogic::ZERO</a>       (&amp;m_defArr[0]);
00033 <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p1">DLogic::ONE</a>        (&amp;m_defArr[1]);
00034 <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p2">DLogic::D</a>          (&amp;m_defArr[2]);
00035 <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p3">DLogic::_D</a>         (&amp;m_defArr[3]);
00036 <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p4">DLogic::X</a>          (&amp;m_defArr[4]);
00037 <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p5">DLogic::_UNDEFINED</a> (&amp;m_defArr[5]);
<a name="l00038"></a><a class="code" href="classDLogic.html#p6">00038</a> <span class="comment">// khtan added</span>
00039 <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p6">DLogic::DLogicAnd</a>[5][5]={ {ZERO,ZERO,ZERO,ZERO,ZERO},
00040                                         {ZERO,ONE ,D   ,_D  ,X},
00041                                         {ZERO,D   ,ZERO,ZERO,X},
00042                                         {ZERO,_D  ,ZERO,_D  ,X},
00043                                         {ZERO,X   ,X   ,X   ,X},
<a name="l00044"></a><a class="code" href="classDLogic.html#p7">00044</a>                                         };
00045 <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p7">DLogic::DLogicOr</a>[5][5]={  {ZERO,ONE ,D   ,_D  ,X},
00046                                         {ONE ,ONE ,ONE ,ONE ,ONE},
00047                                         {D   ,ONE ,D   ,ONE ,X},
00048                                         {_D  ,ONE ,ONE ,_D  ,X},
00049                                         {X   ,ONE ,X   ,X   ,X},
<a name="l00050"></a><a class="code" href="classDLogic.html#p8">00050</a>                                         };
00051 <span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>  <a class="code" href="classDLogic.html#p8">DLogic::DLogicNot</a>[5]={ONE,ZERO,_D,D,X};
00052 
00053 <span class="keywordtype">short</span>  DLogic::m_defArrCount = <span class="keyword">sizeof</span>(DLogic::m_defArr)/<span class="keyword">sizeof</span> (EnumDefStruct);
00054      
00055 <span class="keyword">const</span> <span class="keywordtype">char</span>*  DLogic::m_errorMsg = <span class="stringliteral">"ERROR: DLogic undefined"</span>;
00056      
<a name="l00057"></a><a class="code" href="classDLogic.html#a2">00057</a> <span class="comment">//---------------------------------------------------------------------- </span>
00058 <a class="code" href="classDLogic.html#a0">DLogic::DLogic</a> (<span class="keyword">const</span> string&amp;  name){
00059     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; m_defArrCount - 1; k++){
00060         <span class="keywordflow">if</span> (m_defArr[k].m_name == name){
00061             m_defPtr = &amp;m_defArr[k];
00062             <span class="keywordflow">return</span>;
00063         }
00064     }
00065     m_defPtr = <a class="code" href="classDLogic.html#p5">_UNDEFINED</a>.<a class="code" href="classDLogic.html#o0">m_defPtr</a>;
00066 }
00067      
<a name="l00068"></a><a class="code" href="classDLogic.html#a3">00068</a> <span class="comment">//---------------------------------------------------------------------- </span>
00069 <a class="code" href="classDLogic.html#a0">DLogic::DLogic</a> (<span class="keyword">const</span> <span class="keywordtype">int</span>  ival ){
00070     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; m_defArrCount - 1; k++){
00071         <span class="keywordflow">if</span> (m_defArr[k].m_value == ival){
00072             m_defPtr = &amp;m_defArr[k];
00073             <span class="keywordflow">return</span>;
00074         }
00075     }
00076     m_defPtr = <a class="code" href="classDLogic.html#p5">_UNDEFINED</a>.<a class="code" href="classDLogic.html#o0">m_defPtr</a>;
00077 }
00078      
<a name="l00079"></a><a class="code" href="classDLogic.html#a17">00079</a> <span class="comment">//---------------------------------------------------------------------- </span>
00080 <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classDLogic.html#a17">DLogic::GetLabel</a>()<span class="keyword"> const </span>{
00081     <span class="comment">// Note: Do NOT modify this function to "return GetString().c_str()"; </span>
00082     <span class="comment">// the result of GetString is a temporary which would be deleted upon </span>
00083     <span class="comment">// return from this function, which means that the pointer returned by </span>
00084     <span class="comment">// this function would point to a freed memory block!</span>
00085      
00086     <span class="keywordflow">if</span> (m_defPtr){
00087         <span class="keywordflow">return</span> m_defPtr-&gt;m_name.c_str();
00088     }
00089     <span class="keywordflow">return</span> <a class="code" href="classDLogic.html#p5">_UNDEFINED</a>.<a class="code" href="classDLogic.html#o0">m_defPtr</a>-&gt;m_name.c_str();
00090 }
00091      
<a name="l00092"></a><a class="code" href="classDLogic.html#a18">00092</a> <span class="comment">//---------------------------------------------------------------------- </span>
00093 string <a class="code" href="classDLogic.html#a18">DLogic::GetString</a>()<span class="keyword"> const </span>{
00094     <span class="keywordflow">if</span> (m_defPtr){
00095         <span class="keywordflow">return</span> m_defPtr-&gt;m_name;
00096     }
00097     <span class="keywordflow">return</span> <a class="code" href="classDLogic.html#p5">_UNDEFINED</a>.<a class="code" href="classDLogic.html#o0">m_defPtr</a>-&gt;m_name;
00098 }
00099      
<a name="l00100"></a><a class="code" href="classDLogic.html#a13">00100</a> <span class="comment">//---------------------------------------------------------------------- </span>
00101 <a class="code" href="classDLogic.html">DLogic</a> <a class="code" href="classDLogic.html#a13">DLogic::operator++</a>(){
00102     <span class="keywordflow">if</span> (m_defPtr &lt; <a class="code" href="classDLogic.html#p5">_UNDEFINED</a>.<a class="code" href="classDLogic.html#o0">m_defPtr</a>){
00103         m_defPtr++;
00104     }
00105     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00106 }
00107      
00108 <span class="comment">//---------------------------------------------------------------------- </span>
00109 <span class="comment">// Postfix ++</span>
<a name="l00110"></a><a class="code" href="classDLogic.html#a14">00110</a>      
00111 <a class="code" href="classDLogic.html">DLogic</a> <a class="code" href="classDLogic.html#a13">DLogic::operator++</a>(<span class="keywordtype">int</span>){
00112     <a class="code" href="classDLogic.html">DLogic</a>  tmp = *<span class="keyword">this</span>;
00113     <a class="code" href="classDLogic.html#a13">operator++</a>();
00114     <span class="keywordflow">return</span> tmp;
00115 }
00116      
<a name="l00117"></a><a class="code" href="classDLogic.html#a15">00117</a> <span class="comment">//---------------------------------------------------------------------- </span>
00118 <a class="code" href="classDLogic.html">DLogic</a> <a class="code" href="classDLogic.html#a15">DLogic::operator--</a>(){
00119     <span class="keywordflow">if</span> (m_defPtr &gt; m_defArr){
00120         m_defPtr--;
00121     }<span class="keywordflow">else</span>{
00122         m_defPtr = <a class="code" href="classDLogic.html#p5">_UNDEFINED</a>.<a class="code" href="classDLogic.html#o0">m_defPtr</a>;
00123     }
00124     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00125 }
00126      
00127      
00128 <span class="comment">//---------------------------------------------------------------------- </span>
00129 <span class="comment">// Postfix --</span>
<a name="l00130"></a><a class="code" href="classDLogic.html#a16">00130</a>      
00131 <a class="code" href="classDLogic.html">DLogic</a> <a class="code" href="classDLogic.html#a15">DLogic::operator--</a>(<span class="keywordtype">int</span>) {
00132     <a class="code" href="classDLogic.html">DLogic</a>  tmp = *<span class="keyword">this</span>;
00133     <a class="code" href="classDLogic.html#a15">operator--</a>();
00134     <span class="keywordflow">return</span> tmp;
00135 }
00136      
<a name="l00137"></a><a class="code" href="DLogic_8cpp.html#a0">00137</a> <span class="comment">//---------------------------------------------------------------------- </span>
00138 <a class="code" href="DLogic_8h.html#a2">OSTREAM</a>&amp; <a class="code" href="DLogic_8cpp.html#a0">operator&lt;&lt; </a>(<a class="code" href="DLogic_8h.html#a2">OSTREAM</a>&amp;  ostr,<span class="keyword">const</span> <a class="code" href="classDLogic.html">DLogic</a>&amp;  objref ){
00139     ostr &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; objref.<a class="code" href="classDLogic.html#a18">GetString</a>() &lt;&lt; <span class="stringliteral">" "</span>; 
00140     <span class="keywordflow">return</span> ostr;
00141 }
00142      
<a name="l00143"></a><a class="code" href="DLogic_8cpp.html#a1">00143</a> <span class="comment">//---------------------------------------------------------------------- </span>
00144 <a class="code" href="DLogic_8h.html#a3">ISTREAM</a>&amp; <a class="code" href="DLogic_8cpp.html#a1">operator&gt;&gt; </a>(<a class="code" href="DLogic_8h.html#a3">ISTREAM</a>&amp;  istr,<a class="code" href="classDLogic.html">DLogic</a>&amp;  objref ){
00145     string  name;
00146     istr &gt;&gt; name;
00147     objref = <a class="code" href="classDLogic.html">DLogic</a> (name);
00148     <span class="keywordflow">return</span> istr;
00149 }
00150      
00151 <span class="comment">//---------------------------------------------------------------------- </span>
00152 <span class="preprocessor">#if 1 // Workaround : to prevent error when comparing with _UNDEFINED</span>
00153 <span class="preprocessor"></span><span class="keywordtype">void</span> DLogic::RangeError(){
00154     cerr &lt;&lt; m_errorMsg &lt;&lt; endl;
00155     exit (1);
00156 }
00157 <span class="preprocessor">#else</span>
00158 <span class="preprocessor"></span><span class="keywordtype">void</span> DLogic::RangeError(){
00159 }
00160 <span class="preprocessor">#endif</span>
00161 <span class="preprocessor"></span><span class="comment">//---------------------------------------------------------------------- </span>
</pre></div><hr><address style="align: right;"><small>Generated on Mon Jan 20 11:54:26 2003 for ATPG by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc1 </small></address>
</body>
</html>
